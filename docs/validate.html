<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>Form Validation - Express Form for Expressjs</title>
  <base href="http://dandean.github.com/express-form/index.html">
  <link rel="shortcut icon" href="./img/favicon.ico" />
  <link rel="stylesheet" href="./css/main.css" type="text/css" media="screen" charset="utf-8">
  <link rel="stylesheet" href="./css/pygments/native.css" type="text/css" media="screen" charset="utf-8">
</head>

<body>
  <a href="http://github.com/dandean/express-form"><img style="position: absolute; top: 0; right: 0; border: 0;" src="./img/forkme.png" alt="Fork me on GitHub" /></a>

  <div id="container">
    <h1>Form Validation</h1>
    <nav>
      <ul>
        <li><a href="./">Home</a></li>
        <li><a href="./docs">The Basics</a></li>
        <li><a href="./docs/module.html">Express Form Module</a></li>
        <li><a href="./docs/validate.html">Validation</a></li>
        <li><a href="./docs/filter.html">Filtering</a></li>
      </ul>
    </nav>
    <div class="doc">
  <div class="article">
    <p><code>validate(fieldname[, label]) -&gt; Validator</code></p>

    <ul>
      <li><code>fieldname</code> (<code>String</code>): The name of the field to validate.</li>
      <li><code>label</code> (<code>String</code>): Optional, can be used for friendlier validation messaging.</li>
    </ul>

    <p>The <code>validate</code> function creates a validator object for a specific field.</p>

    <p>The API is chainable, so you can keep calling validation methods one after the other.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">required</span><span class="p">().</span><span class="nx">isAlphanumeric</span><span class="p">()</span>
</code></pre>
</div>

  </div>

  <h3 id="validation-messages">Validation Messages</h3>

  <div class="article">
    <p>Each validator has its own default validation message. These can be overridden
by passing a custom message to the validate function. The custom message is
always the <strong>last</strong> argument.</p>

    <p>Use &ldquo;<code>%s</code>&rdquo; in the message to have the field name (or label if provided) printed in
the message:</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">required</span><span class="p">()</span>
<span class="c1">// -&gt; &quot;username is required&quot;</span>

<span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">required</span><span class="p">(</span><span class="s2">&quot;What is your %s?&quot;</span><span class="p">)</span>
<span class="c1">// -&gt; &quot;What is your username?&quot;</span>

<span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;Username&quot;</span><span class="p">).</span><span class="nx">required</span><span class="p">(</span><span class="s2">&quot;What is your %s?&quot;</span><span class="p">)</span>
<span class="c1">// -&gt; &quot;What is your Username?&quot;</span>
</code></pre>
</div>

  </div>

  <h2 id="validation-methods">Validation Methods</h2>

  <h3 id="regular-expressions-validators">Regular Expressions Validators</h3>

  <div class="article">
    <p><code>regex(pattern[, modifiers[, message]])</code></p>

    <ul>
      <li><code>pattern</code> (<code>RegExp|String</code>): <code>RegExp</code> (with flags) or <code>String</code> pattern.</li>
      <li><code>modifiers</code> (<code>String</code>): Optional, and only if pattern is a <code>String</code>.</li>
      <li><code>message</code> (<code>String</code>): Optional custom validation message.</li>
    </ul>

    <p>alias: <code>is()</code></p>

    <p>Checks that the value matches the given regular expression.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">regex</span><span class="p">(</span><span class="s2">&quot;[a-z]&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;Only letters are valid in %s&quot;</span><span class="p">)</span>
<span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/[a-z]/i</span><span class="p">,</span> <span class="s2">&quot;Only letters are valid in %s&quot;</span><span class="p">)</span>
</code></pre>
</div>

  </div>

  <div class="article">
    <p><code>notRegex(pattern[, modifiers[, message]])</code></p>

    <ul>
      <li><code>pattern</code> (<code>RegExp|String</code>): <code>RegExp</code> (with flags) or <code>String</code> pattern.</li>
      <li><code>modifiers</code> (<code>String</code>): Optional, and only if pattern is a <code>String</code>.</li>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>

    <p>alias: <code>not()</code></p>

    <p>Checks that the value does NOT match the given regular expression.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="s2">&quot;[a-z]&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;Letters are not valid in %s&quot;</span><span class="p">)</span>
<span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="sr">/[a-z]/i</span><span class="p">,</span> <span class="s2">&quot;Letters are not valid in %s&quot;</span><span class="p">)</span>
</code></pre>
</div>

  </div>

  <h3 id="type-validators">Type Validators</h3>

  <div class="article">
    <p><code>isNumeric([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>

    <p>Checks is the value is numeric in any way.</p>
  </div>

  <div class="article">
    <p><code>isInt([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>

    <p>Checks if the value is an integer.</p>
  </div>

  <div class="article">
    <p><code>isDecimal([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>

    <p>alias: <code>isFloat()</code></p>

    <p>Checks if the value is a number with a decimal point.</p>
  </div>

  <h3 id="format-validators">Format Validators</h3>

  <div class="article">
    <p><code>isEmail([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>isUrl([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>isIP([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>isAlpha([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>isAlphanumeric([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>isLowercase([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>isUppercase([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>
  </div>

  <h3 id="content-validators">Content Validators</h3>

  <div class="article">
    <p><code>notEmpty([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>

    <p>Checks if the value is not just whitespace.</p>
  </div>

  <div class="article">
    <p><code>equals(value [, message])</code></p>

    <ul>
      <li><code>value</code> (<code>String</code>): A value that should match the field value OR a fieldname
token to match another field, ie, field::password.</li>
    </ul>

    <p>Compares the field to value.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="sr">/^\w{6,20}$/</span><span class="p">)</span>
<span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;password_confirmation&quot;</span><span class="p">).</span><span class="nx">equals</span><span class="p">(</span><span class="s2">&quot;field::password&quot;</span><span class="p">)</span>
</code></pre>
</div>

  </div>

  <div class="article">
    <p><code>contains(value[, message])</code></p>

    <ul>
      <li><code>value</code> (<code>String</code>): The value to test for.</li>
    </ul>

    <p>Checks if the field contains value.</p>
  </div>

  <div class="article">
    <p><code>notContains(string[, message])</code></p>

    <ul>
      <li><code>value</code> (<code>String</code>): A value that should not exist in the field.</li>
    </ul>

    <p>Checks if the field does NOT contain value.</p>
  </div>

  <h3 id="other-validators">Other Validators</h3>

  <div class="article">
    <p><code>required([message])</code></p>

    <ul>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>

    <p>Checks that the field is present in form data, and has a value.</p>
  </div>

  <div class="article">
    <p>custom(function[, message])</p>

    <ul>
      <li>function (Function): A custom validation function.</li>
      <li><code>message</code> (<code>String</code>): Optional validation message.</li>
    </ul>

    <p>Validates the field using a custom validation function. If the function throws,
and message is not provided, the thrown error message is used.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">validate</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">custom</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="s2">&quot;admin&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;%s must be &#39;admin&#39;.&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

  </div>
</div>

  </div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-21657174-1");
pageTracker._trackPageview();
} catch(err) {}

Array.prototype.slice.call(document.querySelectorAll("span.nx")).forEach(function(el) {
  var text = el.textContent;
  if (text.match(/^form|validate|filter$/)) {
    el.className = "vc";
  } else if (text.match(/^is|not|reg|noRegex|required|trim|isEmail$/)) {
    el.className = "bp";
  }
});
</script>
</body>
</html>
